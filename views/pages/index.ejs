<%- include('../partials/spinner'); %>

<div class="app-page-title">
    <div class="page-title-wrapper">
        <div class="page-title-heading">
            <div class="page-title-icon">
                <i class="bi bi-app">
                </i>
            </div>
            <div>Hola, Bienvenido! ✌
                <div class="page-title-subheading">Este es un demo (en proceso) del nuevo sistema interno de Mercado DOS MIL.
                </div>
            </div>
        </div>
    </div>
</div>       

  
<div class="row mt-5">
    <div class="col-md-6 col-xl-4">
        <div class="card mb-3 widget-content bg-midnight-bloom">
            <div class="widget-content-wrapper text-white">
                <div class="widget-content-left">
                    <div class="widget-heading">Proveedores</div>
                    <div class="widget-subheading">Ver lista</div>
                </div>&nbsp;
                <div class="widget-content-right">
                    <div  class="widget-numbers text-white"><span id="suppliersTotalCount"></span></div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-6 col-xl-4">
        <div class="card mb-3 widget-content bg-midnight-bloom">
            <div class="widget-content-wrapper text-white">
                <div class="widget-content-left">
                    <div class="widget-heading">Compras</div>
                    <div class="widget-subheading">Ver lista</div>
                </div>&nbsp;
                <div class="widget-content-right">
                    <div class="widget-numbers text-white"><span id="purchasesTotalCount"></span></div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-6 col-xl-4">
        <div class="card mb-3 widget-content bg-midnight-bloom">
            <div class="widget-content-wrapper text-white">
                <div class="widget-content-left">
                    <div class="widget-heading">Pagos</div>
                    <div class="widget-subheading">Ver lista</div>
                </div>&nbsp;    
                <div class="widget-content-right">
                    <div class="widget-numbers text-white"><span id="paymentsTotalCount"></span></div>
                </div>
            </div>
        </div>
    </div>
    <div class="d-xl-none d-lg-block col-md-6 col-xl-4">
        <div class="card mb-3 widget-content bg-midnight-bloom">
            <div class="widget-content-wrapper text-white">
                <div class="widget-content-left">
                    <div class="widget-heading">Mermas</div>
                    <div class="widget-subheading">Ver lista</div>
                </div>
                <div class="widget-content-right">
                    <div class="widget-numbers text-warning"><span>$3K</span></div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-md-6 col-xl-4">
        <div class="card mb-3 widget-content bg-midnight-bloom">
            <div class="widget-content-outer">
                <div class="widget-content-wrapper text-white">
                    <div class="widget-content-left">
                        <div class="widget-heading">Mermas</div>
                        <div class="widget-subheading">Ver lista</div>
                    </div>&nbsp;
                    <div class="widget-content-right">
                        <div class="widget-numbers text-success"><span>$3K</span></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-6 col-xl-4">
        <div class="card mb-3 widget-content bg-midnight-bloom">
            <div class="widget-content-outer">
                <div class="widget-content-wrapper text-white">
                    <div class="widget-content-left">
                        <div class="widget-heading">Devoluciones</div>
                        <div class="widget-subheading">Ver lista</div>
                    </div>&nbsp;
                    <div class="widget-content-right">
                        <div class="widget-numbers text-warning">10</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-6 col-xl-4">
        <div class="card mb-3 widget-content bg-midnight-bloom">
            <div class="widget-content-outer">
                <div class="widget-content-wrapper text-white">
                    <div class="widget-content-left">
                        <div class="widget-heading">Followers</div>
                        <div class="widget-subheading">People Interested</div>
                    </div>
                    <div class="widget-content-right">
                        <div class="widget-numbers text-danger">45,9%</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="d-xl-none d-lg-block col-md-6 col-xl-4">
        <div class="card mb-3 widget-content bg-midnight-bloom">
            <div class="widget-content-outer">
                <div class="widget-content-wrapper text-white">
                    <div class="widget-content-left">
                        <div class="widget-heading">Income</div>
                        <div class="widget-subheading">Expected totals</div>
                    </div>
                    <div class="widget-content-right">
                        <div class="widget-numbers text-focus">$147</div>
                    </div>
                </div>
                <div class="widget-progress-wrapper">
                    <div class="progress-bar-sm progress-bar-animated-alt progress">
                        <div class="progress-bar bg-info" role="progressbar" aria-valuenow="54" aria-valuemin="0" aria-valuemax="100" style="width: 54%;"></div>
                    </div>
                    <div class="progress-sub-label">
                        <div class="sub-label-left">Expenses</div>
                        <div class="sub-label-right">100%</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
  
    const nodeEnv = '<%= process.env.NODE_ENV %>'
    console.log(nodeEnv)
    const apiUrl = '<%= process.env.API_URL %>'
    console.log('apiUrl: ', apiUrl)
    let suppliersCount = '<%- suppliersCount %>'
    let purchasesCount = '<%- purchasesCount %>'
    let paymentsCount = '<%- paymentsCount %>'
    console.log(document.cookie)
    // middlewares
    // function notifyMe() {
    //     if (!("Notification" in window)) {
    //         // Check if the browser supports notifications
    //         alert("This browser does not support desktop notification");
    //     } else if (Notification.permission === "granted") {
    //         // Check whether notification permissions have already been granted;
    //         // if so, create a notification
    //         const notification = new Notification("Hi there!");
    //         // …
    //     } else if (Notification.permission !== "denied") {
    //         // We need to ask the user for permission
    //         Notification.requestPermission().then((permission) => {
    //         // If the user accepts, let's create a notification
    //         if (permission === "granted") {
    //             const notification = new Notification("Hi there!");
    //             // …
    //         }
    //         });
    //     }

    //     // At last, if the user has denied notifications, and you
    //     // want to be respectful there is no need to bother them anymore.
    //     }


    // assign values
    document.getElementById('suppliersTotalCount').textContent = suppliersCount
    document.getElementById('purchasesTotalCount').textContent = purchasesCount
    document.getElementById('paymentsTotalCount').textContent = paymentsCount


</script>
